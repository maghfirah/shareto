{"version":3,"mappings":"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","names":["_angular_core__WEBPACK_IMPORTED_MODULE_10__","TransactionOrderDetailComponent","activatedRoute","requestService","apiModelTranslatorService","errorService","alertService","_shared_models_order_detail_model__WEBPACK_IMPORTED_MODULE_0__","_environments_environment__WEBPACK_IMPORTED_MODULE_1__","_shared_constant_prop_constant__WEBPACK_IMPORTED_MODULE_5__","params","subscribe","uiIdInvoice","businessName","initLoad","checkOrder","apiGetOrder","_shared_constant_api_constant__WEBPACK_IMPORTED_MODULE_2__","requestParam","Map","set","get","toPromise","then","response","snakeToCamelCase","error","getErrorApi","order","paymentStatus","_shared_enum_payment_status_enum__WEBPACK_IMPORTED_MODULE_3__","loading","getDetailOrder","redirectUrl","window","location","href","setProps","apiGetOrderMerchant","orderDetail","milestones","sort","a","b","totalProduct","products","reduce","total","product","total_item","items","total2","item","quantity","minDays","maxDays","createdDate","date","undefined","Date","formatDateMinMax","formatMonthMinMax","locale","minDate","setDate","getDate","maxDate","formattedMinDate","formattedMaxDate","formattedMinMonth","formattedMaxMonth","fileInput","name","fileData","target","files","preview","mimeType","_a","type","match","size","reader","FileReader","readAsDataURL","onload","_event","img","Image","src","result","height","naturalHeight","width","naturalWidth","previewImageProduct1","imageToUpload1","apiOrderProcess","sweetalert2__WEBPACK_IMPORTED_MODULE_4___default","title","text","showCancelButton","cancelButtonText","cancelButtonColor","reverseButtons","confirmButtonColor","confirmButtonText","showLoaderOnConfirm","customClass","preConfirm","post","apiOrderSend","selectors","decls","vars","consts","template","_r1","routes","path","component","_transaction_order_detail_transaction_order_detail_component__WEBPACK_IMPORTED_MODULE_0__","pathMatch","TransactionOrderModule","_angular_common__WEBPACK_IMPORTED_MODULE_2__","_angular_router__WEBPACK_IMPORTED_MODULE_3__","_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_4__","declarations","imports"],"sources":["webpack:///src/app/modules/transaction-order/transaction-order-detail/transaction-order-detail.component.html","webpack:///src/app/modules/transaction-order/transaction-order-detail/transaction-order-detail.component.ts","webpack:///src/app/modules/transaction-order/transaction-order.module.ts"],"sourcesContent":["<!-- Logic Loading if Not Complete -->\n<div *ngIf=\"loading else loaded\">\n    <div class=\"center\">\n        <div class=\"spinner-border text-primary spinner-sm mr-5\" role=\"status\"></div>\n    </div>\n</div>\n\n<!-- Loading Complete -->\n<ng-template #loaded>\n\n    <!-- Customer Facing Merchant Checkout -->\n\n    <div class=\"container-mobile\">\n\n        <div class=\"row pt-3\">\n            <div class=\"col-12\">\n                <button class=\"btn\" (click)=\"detailPesanan()\" id=\"backButton\" type=\"button\">\n                    <i class=\"fas fa-arrow-left\"></i>\n                </button>\n                <span style=\"font-size: 16px; font-weight: bold\">Detail Pesanan</span>\n                <hr>\n            </div>\n        </div>\n\n        <div class=\"row pl-3 pr-3\">\n            <div class=\"col-12\">\n                <span class=\"text-muted\">Nomor Pesanan</span><br>\n                <span><b>{{orderDetail?.invoiceNumber}}</b></span><br><br>\n                <span class=\"text-muted\">Tanggal Pemesanan</span><br>\n                <span><b>{{orderDetail?.createdDate | date:'dd MMMM yyyy, HH:mm:ss z'}}</b></span>\n\n                <div class=\"pt-3\"\n                     *ngIf=\"orderDetail?.milestones[0]?.createdDate != null && orderDetail?.milestones[1]?.createdDate == null\">\n                    <button class=\"btn btn-primary\" id=\"prosesPesanan\" type=\"button\" (click)=\"prosesPesanan()\">\n                        PROSES PESANAN\n                    </button>\n                </div>\n\n                <div class=\"pt-3\"\n                     *ngIf=\"orderDetail?.milestones[1]?.createdDate != null && orderDetail?.milestones[2]?.createdDate == null\">\n                    <button class=\"btn btn-primary\" id=\"kirimPesanan\" type=\"button\" (click)=\"kirimPesanan()\">\n                        KIRIM PESANAN\n                    </button>\n                </div>\n\n                <hr>\n            </div>\n        </div>\n\n\n        <div class=\"row pl-3 pr-3\">\n            <div class=\"col-12\">\n                <h4>Alamat Pengiriman</h4>\n                <br>\n                <span><b>{{orderDetail?.customer?.name}}</b></span>\n                <br>\n                <span>{{orderDetail?.customer?.phoneNumber}}</span>\n                <br>\n                <span>{{orderDetail?.customer?.detailAddress}}</span>\n                <hr>\n            </div>\n        </div>\n\n        <div class=\"row pl-3 pr-3\">\n            <div class=\"col-12\">\n                <span><b>{{orderDetail?.shipping?.name + ' - ' + orderDetail?.shipping?.rateName}}</b></span>\n                <span> (Akan diterima pada {{ addDate(1, 3, orderDetail.createdDate) }})</span>\n                <br>\n                <!-- Menampilkan tracking_id -->\n                <span *ngIf=\"orderDetail?.milestones[2]?.createdDate != null && orderDetail?.shipping?.trackingId != '' && orderDetail?.shipping?.trackingId != null && (orderDetail?.shipping?.awbNumber == '' || orderDetail?.shipping?.awbNumber == null)\">\n                        Tracking Id: {{orderDetail.shipping.trackingId}}\n                    <br>\n                    <span style=\"text-align: justify; display:block;\">Silahkan untuk letakkan nomor resi/tracking pada paket anda, dan bisa untuk search via <a\n                            href=\"https://shipper.id/tracking\">shipper.id/tracking</a> untuk memantau perjalanan paket yang anda kirimkan. Pesanan yang diproses sebelum 15.00 akan diambil paketnya pada hari tersebut, selebihnya akan diambil di esok hari.</span>\n                </span>\n                <!-- Jika createDate timeline PROCESSING sudah ada -->\n                <span *ngIf=\"orderDetail?.milestones[2]?.createdDate != null && orderDetail?.shipping?.awbNumber != '' && orderDetail?.shipping?.awbNumber != null \">\n                        No. Resi: {{orderDetail.shipping.awbNumber}}\n                    </span>\n                <!-- Tampilkan Contoh tracking_id hanya di environment selain Production dengan kondisi apabila tracking_id dan awb_number tidak ada-->\n                <span *ngIf=\"orderDetail?.milestones[2]?.createdDate != null && (orderDetail?.shipping?.trackingId == '' || orderDetail?.shipping?.trackingId == null) && (orderDetail?.shipping?.awbNumber == '' || orderDetail?.shipping?.awbNumber == null) && orderDetail?.shipping?.digitalGoods == false && envUrl !== envSimulatorNotExist\">\n                        Tracking Id: 5j08725 <i class=\"fas fa-info-circle text-primary ml-2\"\n                                                ngbTooltip='Tracking Id Simulasi'></i>\n                    <br>\n                    <span style=\"text-align: justify; display:block;\">Silahkan untuk letakkan nomor resi/tracking pada paket anda, dan bisa untuk search via <a\n                            href=\"https://shipper.id/tracking\">shipper.id/tracking</a> untuk memantau perjalanan paket yang anda kirimkan. Pesanan yang diproses sebelum 15.00 akan diambil paketnya pada hari tersebut, selebihnya akan diambil di esok hari.</span>\n                </span>\n            </div>\n        </div>\n\n        <div class=\"row p-3\">\n            <div class=\"col-12\">\n\n                <div class=\"timeline timeline-vertical timeline-progress timeline-primary\">\n                    <ul>\n                        <!-- CONFIRMED -->\n                        <li [ngClass]=\"{'is-active': (orderDetail?.milestones[0]?.createdDate !== null && orderDetail?.milestones[1]?.createdDate == null)}\">\n                            <div class=\"description\">\n                                <div class=\"desc_title\"><b> Pembayaran Dikonfirmasi</b></div>\n                                <div class=\"desc_content\">\n                                    Pembayaran telah dikofirmasi dan <br> akan diteruskan ke penjual\n                                </div>\n                                <div class=\"desc_time\"\n                                     style=\"width: 160px\"> {{orderDetail?.milestones[0]?.createdDate | date:'dd MMMM yyyy, HH:mm:ss'}} </div>\n                            </div>\n                        </li>\n                        <!-- SENDING -->\n                        <li [ngClass]=\"{'is-finished': (orderDetail?.milestones[0]?.createdDate !== null && orderDetail?.milestones[1]?.createdDate == null),\n                            'is-active': (orderDetail?.milestones[1]?.createdDate !== null && orderDetail?.milestones[2]?.createdDate == null)}\">\n                            <div class=\"description\">\n                                <div class=\"desc_title\"><b> Pesanan Diproses</b></div>\n                                <div class=\"desc_content\">\n                                    Pesanan Anda sedang diproses oleh penjual\n                                </div>\n                                <div class=\"desc_time\"\n                                     style=\"width: 160px\"> {{orderDetail?.milestones[1]?.createdDate | date:'dd MMMM yyyy, HH:mm:ss'}} </div>\n                            </div>\n                        </li>\n                        <!-- PROCESSING -->\n                        <li *ngIf=\"orderDetail?.milestones[0]?.createdDate != null && orderDetail?.milestones[1]?.createdDate != null\"\n                            [ngClass]=\"{'is-finished': (orderDetail?.milestones[1]?.createdDate !== null && orderDetail?.milestones[2]?.createdDate == null),\n                            'is-active': (orderDetail?.milestones[2]?.createdDate !== null && orderDetail?.milestones[3]?.createdDate == null)}\">\n                            <div class=\"description\">\n                                <div class=\"desc_title\"><b> Pesanan Dikirim</b></div>\n                                <div class=\"desc_content\">\n                                    Pesanan telah dikirim dari <br> {{orderDetail.merchant.name}}\n                                </div>\n                                <div class=\"desc_time\"\n                                     style=\"width: 160px\"> {{orderDetail?.milestones[2]?.createdDate | date:'dd MMMM yyyy, HH:mm:ss'}} </div>\n                            </div>\n                        </li>\n                        <!-- DELIVERED -->\n                        <li *ngIf=\"orderDetail?.milestones[1]?.createdDate != null && orderDetail?.milestones[2]?.createdDate != null\"\n                            [ngClass]=\"{'is-finished': (orderDetail?.milestones[2]?.createdDate !== null && orderDetail?.milestones[3]?.createdDate == null),\n                            'is-active': (orderDetail?.milestones[3]?.createdDate !== null && orderDetail?.milestones[4]?.createdDate == null)}\">\n                            <div class=\"description\">\n                                <div class=\"desc_title\"><b> Pesanan Telah Sampai di Tujuan</b></div>\n                                <div class=\"desc_content\">\n                                    Pesanan akan segera diterima <br> sesuai estimasi waktu\n                                </div>\n                                <div class=\"desc_time\"\n                                     style=\"width: 160px\"> {{orderDetail?.milestones[3]?.createdDate | date:'dd MMMM yyyy, HH:mm:ss'}} </div>\n                            </div>\n                        </li>\n                        <!-- DONE -->\n                        <li *ngIf=\"orderDetail?.milestones[2]?.createdDate != null && orderDetail?.milestones[3]?.createdDate != null\"\n                            class=\"is-finished\">\n                            <div class=\"description\">\n                                <div class=\"desc_title\"><b> Pesanan Selesai</b></div>\n                                <div class=\"desc_content\">\n                                    Transaksi sukses dan pembeli <br> telah menerima pesanan\n                                </div>\n                                <div class=\"desc_time\"\n                                     style=\"width: 160px\"> {{orderDetail?.milestones[4]?.createdDate | date:'dd MMMM yyyy, HH:mm:ss'}} </div>\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n\n                <hr>\n            </div>\n        </div>\n\n        <div class=\"row pl-3 pr-3 mb-3\">\n            <div class=\"col-12\">\n                <img [src]=\"orderDetail?.merchant?.image\" style=\"height: 24px; width: 24px; border-radius: 50%;\"/>\n                <span class=\"ml-3\" style=\"font-size: 16px; font-weight: bold;\">{{orderDetail?.merchant?.name}}</span>\n            </div>\n        </div>\n\n        <div *ngFor=\"let product of orderDetail.products; let i = index\">\n            <div *ngFor=\"let variant of product.items; let i = index\">\n                <div class=\"row mb-2 px-3\">\n                    <div class=\"col-2\">\n                        <img [src]=\"product.image\" style=\"height: 64px; width: 100%\"/>\n                    </div>\n                    <div class=\"col-10\">\n                        <div class=\"row\">\n                            <div class=\"col-12\">\n                                <span style=\"font-size: 16px;\">{{product.name}}</span>\n                                <h6 class=\"text-muted\">{{variant.color}}</h6>\n                            </div>\n                        </div>\n\n                        <div class=\"row\">\n                            <div class=\"col-10\">\n                                <h4>{{variant.price | currency:'Rp ':'symbol-narrow':'1.0'}}</h4>\n                            </div>\n                            <div class=\"col-2\">\n                                <span style=\"font-size: 16px;\">{{'x ' + variant.quantity}}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"row p-3\">\n            <div class=\"col-12\">\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <span><b>Total Harga ({{totalProduct}} Produk)</b></span>\n                        <br>\n                        <span><b>Ongkos Kirim</b></span>\n                    </div>\n                    <div class=\"col-6 text-right\">\n                        <span><b>{{orderDetail.payment.itemsPrice | currency:'Rp ':'symbol-narrow':'1.0'}}</b></span>\n                        <br>\n                        <span><b>{{orderDetail.payment.shippingPrice | currency:'Rp ':'symbol-narrow':'1.0'}}</b></span>\n                    </div>\n                </div>\n\n                <hr>\n\n                <div class=\"row\">\n                    <div class=\"col-6\">\n                        <span><b>Total Pembayaran</b></span>\n                        <br>\n                        <span><b>Metode Pembayaran</b></span>\n                        <br>\n                        <span><b>Asuransi Pengiriman</b></span>\n                    </div>\n                    <div class=\"col-6 text-right\">\n                        <h4 class=\"text-success\">\n                            <b>{{orderDetail.payment.amount | currency:'Rp ':'symbol-narrow':'1.0'}}</b></h4>\n                        <span><b>{{orderDetail.payment.channel}}</b></span><br>\n                        <span><b>{{orderDetail.payment.insurancePrice | currency:'Rp ':'symbol-narrow':'1.0'}}</b></span>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n\n    </div>\n\n\n</ng-template>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Params} from \"@angular/router\";\nimport {RequestService} from \"../../../shared/service/request.service\";\nimport {ApiModelTranslatorService} from \"../../../shared/service/api-model-translator.service\";\nimport {ErrorService} from \"../../../shared/service/error.service\";\nimport {AlertService} from \"../../../shared/service/alert.service\";\nimport {OrderDetail} from \"../../../shared/models/order-detail.model\";\nimport {environment} from \"../../../../environments/environment\";\nimport {APIConstant} from \"../../../shared/constant/api.constant\";\nimport {Order} from \"../../../shared/models/order.model\";\nimport {PaymentStatus} from \"../../../shared/enum/payment-status.enum\";\nimport {formatDate} from \"@angular/common\";\nimport Swal from \"sweetalert2\";\nimport {PropConstant} from \"../../../shared/constant/prop.constant\";\n\n@Component({\n  selector: 'app-transaction-order-detail',\n  templateUrl: './transaction-order-detail.component.html',\n  styleUrls: ['./transaction-order-detail.component.css']\n})\nexport class TransactionOrderDetailComponent implements OnInit {\n\n\n  constructor(\n      private activatedRoute: ActivatedRoute,\n      private requestService: RequestService,\n      public apiModelTranslatorService: ApiModelTranslatorService,\n      private errorService: ErrorService,\n      private alertService: AlertService,\n  ) {\n  }\n\n  async ngOnInit() {\n    await this.activatedRoute.params.subscribe((params: Params) => {\n      this.uiIdInvoice = params['uiIdInvoice'];\n      this.businessName = params['businessName'];\n    });\n    await this.initLoad();\n  }\n\n  async initLoad() {\n    await this.checkOrder();\n  }\n\n  //loading component\n  loading = true;\n\n  //image\n  fileData: any;\n  imageToUpload1:any;\n  previewImageProduct1: any;\n\n  uiIdInvoice: string;\n  businessName: string;\n  orderDetail : OrderDetail = new OrderDetail();\n  envUrl = environment.envUrl;\n  envSimulatorNotExist = PropConstant.ENV_SIMULATOR_NOT_EXIST;\n  totalProduct: number = 0;\n\n  async checkOrder() {\n    let apiGetOrder = environment.apiUrl + APIConstant.ORDER;\n\n    let requestParam = new Map();\n    requestParam.set('uiId', this.uiIdInvoice);\n    let order: Order = await this.requestService.get(apiGetOrder, requestParam).toPromise().then(\n        (response) => {\n          return this.apiModelTranslatorService.snakeToCamelCase(response);\n        },\n        (error) => {\n          this.errorService.getErrorApi(error);\n        });\n\n    //validate status payment\n    if (order.paymentStatus === PaymentStatus.Paid) {\n      this.loading = false;\n      await this.getDetailOrder();\n    } else {\n      //validate have redirect url or not\n      if (order.redirectUrl !== \"\" || order.redirectUrl !== null) {\n        window.location.href = order.redirectUrl;\n      } else {\n        this.alertService.setProps(\"Mohon maaf terjadi kesalahan, mohon coba kembali\", true);\n      }\n    }\n\n  }\n\n  async getDetailOrder(){\n    let apiGetOrderMerchant = environment.apiUrl + APIConstant.MERCHANT_ORDER + '/' + this.uiIdInvoice + APIConstant.MERCHANT_ORDER_DETAIL;\n\n    await this.requestService.get(apiGetOrderMerchant, null).toPromise().then(\n        (response) => {\n          this.orderDetail = this.apiModelTranslatorService.snakeToCamelCase(response);\n          //sort based on order milestone\n          this.orderDetail.milestones = this.orderDetail.milestones.sort((a, b) => a.order - b.order);\n          this.totalProduct = this.orderDetail.products.reduce((total, product) => {\n            let total_item = product.items.reduce((total2, item) => {\n              return total2 + item.quantity;\n            }, 0);\n            return total + total_item;\n          }, 0);\n          return this.orderDetail;\n        },\n        (error) => {\n          this.errorService.getErrorApi(error);\n        });\n  }\n\n  detailPesanan() {\n\n  }\n\n  addDate(minDays: number, maxDays: number, createdDate: string) : string{\n    let date;\n\n    if(createdDate === undefined){\n      date = new Date();\n    }else{\n      date = new Date(createdDate);\n    }\n\n    const formatDateMinMax = 'dd';\n    const formatMonthMinMax = 'MMMM';\n    const locale = 'id';\n    // const locale = 'id-ID';\n    let minDate = date.setDate(date.getDate() + minDays);\n    let maxDate = date.setDate(date.getDate() + maxDays);\n    const formattedMinDate = formatDate(minDate, formatDateMinMax, locale);\n    const formattedMaxDate = formatDate(maxDate, formatDateMinMax, locale);\n    const formattedMinMonth = formatDate(minDate, formatMonthMinMax, locale);\n    const formattedMaxMonth = formatDate(minDate, formatMonthMinMax, locale);\n\n    if(formattedMinMonth === formattedMaxMonth){\n      return formattedMinDate + ' - ' + formattedMaxDate + ' ' + formattedMaxMonth;\n    }else{\n      return formattedMinDate + ' ' + formattedMinMonth + ' - ' + formattedMaxDate + ' ' + formattedMaxMonth;\n    }\n  }\n\n  //Upload image\n  fileProgress(fileInput: any, name:string) {\n    this.fileData = <File>fileInput.target.files[0];\n    if(this.fileData !== undefined){\n      this.preview(name);\n    }\n  }\n\n  preview(name:string) {\n    // Show image preview\n    let mimeType = this.fileData?.type;\n    if (mimeType.match('image.*') === null) {\n      this.alertService.setProps(\"Failed Upload Type\", true);\n      return;\n    }\n\n    //validation > 1 mb\n    if(this.fileData.size > 1000000){\n      this.alertService.setProps(\"Size more than 1 MB\", true);\n      return;\n    }\n\n    let reader = new FileReader();\n    reader.readAsDataURL(this.fileData);\n\n    reader.onload = (_event) => {\n\n      let img = new Image();\n      img.src = reader.result as string;\n      img.onload = () => {\n        const height = img.naturalHeight;\n        const width = img.naturalWidth;\n        //validation < 300px x 300px\n        if(height < 300 || width < 300){\n          this.alertService.setProps(\"Minimum width and height 300\", true);\n        }else{\n          this.previewImageProduct1 = reader.result;\n          this.imageToUpload1 = this.fileData;\n        }\n      };\n\n    }\n  }\n\n  prosesPesanan(){\n    let apiOrderProcess = environment.apiUrl + APIConstant.MERCHANT_ORDER + '/' + this.uiIdInvoice + APIConstant.MERCHANT_ORDER_PROCESS;\n\n    Swal.fire({\n      title: 'Proses Pesanan?',\n      text: 'Setelah klik proses pesanan, silahkan segera siapkan dan kemas pesanan Anda',\n      showCancelButton: true,\n      cancelButtonText: 'BATAL',\n      cancelButtonColor: '#666666',\n      reverseButtons: true,\n      confirmButtonColor: '#E1251B',\n      confirmButtonText: 'PROSES',\n      showLoaderOnConfirm: true,\n      customClass: {\n        title: 'swal2-title-modal-medium'\n      },\n      preConfirm: async () => {\n        await this.requestService.post(apiOrderProcess, null, null).toPromise().then(\n            async (response) => {\n              await this.getDetailOrder();\n            },\n            (error) => {\n              this.errorService.getErrorApi(error);\n            });\n      }\n    });\n\n  }\n\n\n  kirimPesanan(){\n    let apiOrderSend = environment.apiUrl + APIConstant.MERCHANT_ORDER + '/' + this.uiIdInvoice + APIConstant.MERCHANT_ORDER_SEND;\n\n    Swal.fire({\n      title: 'Kirim Pesanan - Dijemput Kurir',\n      text: 'Mohon pastikan No. HP dan alamat toko yang telah Anda atur pada pengaturan Retail sudah benar dan akurat',\n      showCancelButton: true,\n      cancelButtonText: 'BATAL',\n      cancelButtonColor: '#666666',\n      reverseButtons: true,\n      confirmButtonColor: '#E1251B',\n      confirmButtonText: 'AJUKAN PENJEMPUTAN',\n      showLoaderOnConfirm: true,\n      customClass: {\n        title: 'swal2-title-modal-medium'\n      },\n      preConfirm: async () => {\n        await this.requestService.post(apiOrderSend, null, null).toPromise().then(\n            async (response) => {\n              await this.getDetailOrder();\n            },\n            (error) => {\n              this.errorService.getErrorApi(error);\n            });\n      }\n    });\n\n  }\n\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {TransactionOrderDetailComponent} from './transaction-order-detail/transaction-order-detail.component';\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {NgbTooltipModule} from \"@ng-bootstrap/ng-bootstrap\";\n\nconst routes: Routes = [\n  {\n    path:'',\n    component: TransactionOrderDetailComponent,\n    pathMatch: 'full'\n  }\n];\n\n@NgModule({\n  declarations: [TransactionOrderDetailComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    NgbTooltipModule\n  ]\n})\nexport class TransactionOrderModule { }\n"]}